{% extends "base.html" %}

{# Override the specific metadata block to swap the favicon tag #}
{% block site_meta %}
    {{ super() }}
    {# This replaces/adds the modern tag Google wants in 2025 #}
    <link rel="icon" href="{{ base_url }}/img/favicon.ico" type="image/x-icon">
{% endblock %}

{% block extrahead %}
  {{ super() }}

  {# --- Google Search Indexing / SEO --- #}
  {# MkDocs uses the site_description from mkdocs.yml for the standard description meta tag, which is good for Google Indexing. #}
  <meta name="robots" content="index, follow">
  <meta name="google-site-verification" content="TQi8dxx7V5lfUz7qLK1nOh24eN34zbWgt7oNAEepYr8" />

  {# --- Open Graph Tags (for LinkedIn, WhatsApp, Facebook, etc.) --- #}
  {% if page %}
    
    {# Open Graph Title: Safely check for custom title, falling back to site_name #}
    <meta property="og:title" 
          content="{% if page.meta.og_title %}
                   {{ page.meta.og_title }}
                   {% else %}
                   {{ config.site_name }}
                   {% endif %}">

    {# Open Graph Description: Safely check for custom description, falling back to site_description #}
    <meta property="og:description" 
          content="{% if page.meta.og_description %}
                   {{ page.meta.og_description }}
                   {% else %}
                   {{ config.site_description }}
                   {% endif %}">
    
    <meta property="og:url" content="{{ page.canonical_url }}">  {# THIS LINE IS NOW PROTECTED #}
  {% endif %}

  <meta property="og:image" content="https://fricosipy.readthedocs.io/en/latest/images/FRICOSIPY-social.png">
  <meta property="og:type" content="website">
  <meta property="og:image:width" content="3179">
  <meta property="og:image:height" content="1671">

{% endblock %}
